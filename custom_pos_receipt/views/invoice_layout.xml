<odoo>
    <template id="report_invoice_pos_custom" inherit_id="account.report_invoice_document">
        <xpath expr="//t[@t-call='web.external_layout']" position="replace">
            <t t-call="web.basic_layout">
                <div class="page" style="margin: 0; padding: 0;">
                    <style>
                        h1 {
                            font-size: 20px;
                            margin-bottom: 15px;
                            font-weight: bold;
                        }

                        .table {
                            width: 100%;
                            margin-top: 20px;
                        }

                        .table th {
                            background-color: #f8f9fa;
                            border-bottom: 2px solid #dee2e6;
                        }

                        .table td, .table th {
                            padding: 8px;
                        }

                        .pos-invoice-header {
                            text-align: center;
                            margin-bottom: 20px;
                        }
                    </style>

                    <section class="pos-invoice-header">
                        <h2 t-if="o.company_id.logo" class="mt-0">
                            <img t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 100px;" alt="Logo" />
                        </h2>
                    </section>
                    <hr />
                <section style="margin-bottom: 20px;">
                    <div style="margin-bottom: 15px;">
                        <h1 style="font-size: 20px; margin: 0; font-weight: bold;">
                            Invoice
                            <span t-field="o.name" />
                        </h1>
                    </div>
                    
                    <table class="invoice-table" style="width: 100%; margin-bottom: 20px; border-collapse: collapse;">
    <tr>
        <td style="width: 50%; vertical-align: top;">
            <table style="width: 100%; border-spacing: 0;">
                <tr>
                    <td style="font-weight: bold;">Invoice Date:</td>
                    <td><span t-field="o.invoice_date" /></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Due Date:</td>
                    <td><span t-field="o.invoice_date_due" /></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Source:</td>
                    <td>
                        <span t-field="o.pos_order_ids[0].pos_reference" t-if="o.pos_order_ids" />
                    </td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Reference:</td>
                    <td><span t-field="o.invoice_origin" /></td>
                </tr>
            </table>
        </td>
        <td style="width: 50%; vertical-align: top;">
            <table style="width: 100%; border-spacing: 0;">
                <tr>
                    <td colspan="2" style="font-weight: bold;">Billed To:</td>
                </tr>
                <tr>
                    <td colspan="2">
                        <span t-field="o.partner_id.name" /><br />
                        <span t-field="o.partner_id.street" /><br />
                        <span t-if="o.partner_id.city" t-field="o.partner_id.city" />, 
                        <span t-if="o.partner_id.state_id" t-field="o.partner_id.state_id.name" /><br />
                        <span t-if="o.partner_id.phone" t-field="o.partner_id.phone" />
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
                </section>
                <hr />
                <table class="table table-sm pos-invoice-table">
                    <thead>
                        <tr>
                            <th>Description</th>
                            <th>Quantity</th>
                            <th>Unit Price</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="o.invoice_line_ids" t-as="line">
                            <td class="text-left">
                                <span t-field="line.product_id.name" />
                            </td>
                            <td>
                                <span t-field="line.quantity" />
                            </td>
                            <td>
                                <span t-field="line.price_unit" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}" />
                            </td>
                            <td>
                                <span t-field="line.price_total" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}" />
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="3" class="text-right">
                                <strong>Subtotal</strong>
                            </td>
                            <td>
                                <span t-field="o.amount_untaxed" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="text-right">
                                <strong>Tax</strong>
                            </td>
                            <td>
                                <span t-field="o.amount_tax" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="text-right">
                                <strong>Total</strong>
                            </td>
                            <td>
                                <span t-field="o.amount_total" t-options="{'widget': 'monetary', 'display_currency': o.currency_id}" />
                            </td>
                        </tr>
                    </tfoot>
                </table>
                <hr />
                <div class="footer text-center" style="margin-top: 20px;">
                    <p>Please use the following communication for your payment:
                        <span t-field="o.name" />
                    </p>
                </div>
                </div>
            </t>
        </xpath>
    </template>
</odoo>